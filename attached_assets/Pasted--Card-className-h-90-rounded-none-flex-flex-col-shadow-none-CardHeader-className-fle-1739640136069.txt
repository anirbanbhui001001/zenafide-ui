<Card className="h-[90%] rounded-none flex flex-col" shadow="none">
      <CardHeader className="flex justify-between items-center px-4 py-2 border-b shrink-0">
        <span className="text-large">
          {!isNewCase ? 'Edit Test Case' : 'Create Test Case'}
        </span>
        <div>
          <Button
            isIconOnly
            variant="light"
            size="sm"
            onPress={() => handleDelete(row.id)}
          >
            <Icon icon="proicons:delete" width="20" />
          </Button>
          <Button isIconOnly variant="light" onPress={onClose}>
            <Icon icon="mdi:close" className="h-5 w-5" />
          </Button>
        </div>
      </CardHeader>
      <CardBody className="flex-grow overflow-y-auto">
        <div className="space-y-4 py-4">
          <Controller
            name="label"
            control={control}
            render={({ field }) => (
              <Input
                {...field}
                label="Label"
                isInvalid={!!errors.label}
                errorMessage={errors.label?.message}
              />
            )}
          />
          <Controller
            name="chat_history"
            control={control}
            render={({ field }) => (
              <Textarea
                {...field}
                label="Chat History"
                isInvalid={!!errors.chat_history}
                errorMessage={errors.chat_history?.message}
              />
            )}
          />
          <Controller
            name="target"
            control={control}
            render={({ field }) => (
              <Textarea
                {...field}
                label="Target"
                isInvalid={!!errors.target}
                errorMessage={errors.target?.message}
              />
            )}
          />
        </div>
      </CardBody>
      <div className="flex gap-2 p-4">
        <Button
          color="primary"
          fullWidth
          onClick={handleSubmit(onSubmit)}
          isLoading={isLoading}
          size="sm"
        >
          Save
        </Button>
        <Button variant="light" onPress={onClose} size="sm">
          Cancel
        </Button>
      </div>
    </Card>